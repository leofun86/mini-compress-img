<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mini Compress IMG — Standalone (v2) · imgCompress</title>
  <link rel="stylesheet" href="./assets/css/styles.css">
</head>
<body>
  <header class="site-header">
    <h1>Mini Compress IMG <small>Standalone v2</small></h1>
    <span class="brand">imgCompress</span>
  </header>

  <main class="container">
    <section class="uploader">
      <label for="fileInput" class="btn primary">Seleccionar imagen</label>
      <input id="fileInput" type="file" accept="image/*" hidden />
      <div class="options">
        <label>Calidad (JPEG/WebP): <input id="quality" type="range" min="0.4" max="0.95" step="0.05" value="0.8"/></label>
        <label>Ancho máx.: <input id="maxWidth" type="number" value="1920" min="256" step="64"/></label>
        <label>Alto máx.: <input id="maxHeight" type="number" value="1920" min="256" step="64"/></label>
        <label>Formato: 
          <select id="format">
            <option value="image/jpeg">JPEG</option>
            <option value="image/webp">WEBP</option>
            <option value="image/png">PNG</option>
          </select>
        </label>
      </div>
      <button id="btnCompress" class="btn">Comprimir</button>
    </section>

    <section class="progress-wrap" aria-live="polite">
      <div class="progress">
        <div id="progressBar" class="progress-bar" style="width:0%"></div>
      </div>
      <div id="progressText" class="progress-text">Listo para comprimir</div>
    </section>

    <section id="result" class="result hidden">
      <div class="thumbs">
        <figure>
          <img id="thumbOriginal" alt="Original" />
          <figcaption>Original</figcaption>
        </figure>
        <figure>
          <img id="thumbCompressed" alt="Comprimida" />
          <figcaption>Comprimida</figcaption>
        </figure>
      </div>
      <div class="actions">
        <button id="btnDownload" class="btn success" disabled>Descargar</button>
        <button id="btnPreview" class="btn outline" disabled>Antes / Después</button>
      </div>
      <div class="sizes" id="sizes"></div>
    </section>
  </main>

  <!-- Modal Before/After -->
  <div id="baOverlay" class="overlay hidden" role="dialog" aria-modal="true">
    <div class="modal" id="baModal">
      <button class="close" id="baClose" aria-label="Cerrar">✕</button>
      <div class="ba-stage" id="baStage">
        <img id="baImgBefore" alt="Antes (original)" />
        <img id="baImgAfter" alt="Después (comprimida)" />
        <div class="ba-mask" id="baMask"></div>
        <div class="ba-handle" id="baHandle" tabindex="0" aria-label="Barra deslizadora"></div>
      </div>
      <div class="zoom-controls">
        <button id="zoomOut" class="btn">−</button>
        <span id="zoomValue">100%</span>
        <button id="zoomIn" class="btn">+</button>
        <button id="resetView" class="btn">Restablecer</button>
      </div>
      <p class="hint">Arrastrá la barra para comparar. Usá la rueda del mouse para zoom. Arrastrá para mover.</p>
    </div>
  </div>

  <script src="./assets/js/app.js"></script>
  <script src="./assets/js/beforeAfter.js"></script>
</body>
</html>
